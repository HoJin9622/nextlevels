---
title: 'Cloudflare Images'
subtitle: 'Cloudflare Images ë€ ë¬´ì—‡ì¸ê°€?'
date: '2022-05-10'
category: 'infra'
coverImage: '/images/cloudflare.jpeg'
---

## ğŸ“ Table of Contents

- [ğŸ“ Table of Contents](#-table-of-contents)
- [ğŸ¤” Cloudflare Imagesë€?](#-cloudflare-imagesë€)
- [ğŸ§¾ Cloudflare ê°€ì…](#-cloudflare-ê°€ì…)
- [ğŸ“” Dashboard](#-dashboard)
- [ğŸ“¤ Upload Images](#-upload-images)
  - [1. Images Dashboard](#1-images-dashboard)
  - [2. Direct Creator Upload](#2-direct-creator-upload)
- [ğŸ”” ì´ë¯¸ì§€ í˜¸ì¶œ](#-ì´ë¯¸ì§€-í˜¸ì¶œ)
- [ğŸ› Variants](#-variants)
- [ğŸ“ Reference](#-reference)

## <a name="1"></a>ğŸ¤” Cloudflare Imagesë€?

Cloudflare ImagesëŠ” ì´ë¯¸ì§€ ì¸í”„ë¼ë¥¼ ë¹„ìš© íš¨ê³¼ì ìœ¼ë¡œ êµ¬ì¶•í•˜ê³  ìœ ì§€í•˜ëŠ” ì§ì ‘ì ì´ë©° ì²˜ìŒë¶€í„° ëê¹Œì§€ í•´ê²°í•˜ëŠ” ì†”ë£¨ì…˜ì„ ì œê³µí•œë‹¤. í•˜ë‚˜ì˜ í†µí•© ì œí’ˆì„ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ëŒ€ê·œëª¨ë¡œ ì €ì¥, í¬ê¸° ì¡°ì •, ìµœì í™” í•œë‹¤.

![](https://velog.velcdn.com/images/hojin9622/post/1fc22522-6744-47fe-b04d-5e390da68f5e/image.png)![](https://velog.velcdn.com/images/hojin9622/post/b9982b64-38d8-46b7-9b88-b308d9423061/image.png)![](https://velog.velcdn.com/images/hojin9622/post/06601f39-b091-4e40-a8e3-47dde7bd43e3/image.png)![](https://velog.velcdn.com/images/hojin9622/post/f50d98d3-de05-4741-81c5-6f9fdb065820/image.png)

ê³µì‹ ì‚¬ì´íŠ¸ëŠ” ë‹¤ìŒ 4ê°€ì§€ë¥¼ ê°•ì¡°í•˜ê³  ìˆë‹¤.

- ì €ì¥í•˜ê³  ì „ë‹¬ëœ ì´ë¯¸ì§€ ë¹„ìš©ë§Œ ì§€ë¶ˆ
- í¬ë¦¬ì—ì´í„° ì§ì ‘ ì—…ë¡œë“œ
- ë³€í˜•ì„ ì´ìš©í•´ í¬ê¸° ì¡°ì • ë° ìµœì í™”
- ì„œëª…ëœ URLì„ ì´ìš©í•œ ì´ë¯¸ì§€ ë³´ì•ˆ

AWSì˜ S3 ì„œë¹„ìŠ¤ì²˜ëŸ¼ ëª¨ë“  ì¢…ë¥˜ì˜ íŒŒì¼ì„ ì €ì¥ì€ í•  ìˆ˜ ì—†ì§€ë§Œ ì´ë¯¸ì§€ì— ëŒ€í•´ì„œë§Œí¼ì€ ìµœê³ ì˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
ì‚¬ìš©í•´ë³´ê³  ê°€ì¥ ë§ˆìŒì— ë“œëŠ” ê¸°ëŠ¥ì€ í¬ê¸° ì¡°ì • ë° ìµœì í™”ë¥¼ ì¶”ê°€ ë¹„ìš©ì—†ì´ ëª¨ë“  ì´ë¯¸ì§€ì˜ ë³€í˜•ì„ ë§Œë“¤ì–´ ì ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ê³¼ í¬ë¦¬ì—ì´í„° ì§ì ‘ ì—…ë¡œë“œ ê¸°ëŠ¥ì´ë‹¤.

## <a name="2"></a>ğŸ§¾ Cloudflare ê°€ì…

https://www.cloudflare.com/ko-kr/
![](https://velog.velcdn.com/images/hojin9622/post/3d1b2fdb-3498-4892-8e48-db6755f3f239/image.png)

cloudflare í™ˆí˜ì´ì§€ì—ì„œ ê°€ì…ì„ í´ë¦­ í›„ ì´ë©”ì¼ê³¼ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•˜ë©´ ì‰½ê²Œ ê°€ì…í•  ìˆ˜ ìˆë‹¤.
ì…ë ¥í•œ ì´ë©”ì¼ë¡œ ì¸ì¦ ë©”ì¼ì´ ì˜¤ëŠ”ë° ê¼­ ì¸ì¦í•´ì£¼ì–´ì•¼ í•œë‹¤.

## <a name="3"></a>ğŸ“” Dashboard

![](https://velog.velcdn.com/images/hojin9622/post/9c2ac12e-5b2e-4cd9-b45c-7a060b76b938/image.png)

Cloudflare Images ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ë ¤ë©´ ëŒ€ì‹œë³´ë“œì˜ ì¢Œì¸¡ ë©”ë‰´ì— Imagesë¥¼ í´ë¦­í•˜ë©´ ëœë‹¤.
![](https://velog.velcdn.com/images/hojin9622/post/6d39e7a0-0137-4514-a200-bc978299c0d5/image.png)

ê²°ì œí™”ë©´ì´ ë‚˜ì˜¤ê³  ê° ìš”ê¸ˆì— ëŒ€í•œ ì„¤ëª…ì´ì„ ë³´ì—¬ì¤€ë‹¤.
ì €ì¥ëœ ì´ë¯¸ì§€ 10ë§Œê°œì— 5ë‹¬ëŸ¬ë¼ê³  ë˜ì–´ìˆê³  ë§ì€ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ì§€ ì•Šì„ê±°ë¼ì„œ 5ë‹¬ëŸ¬ í”Œëœì„ ì„ íƒí•˜ì˜€ë‹¤.

## <a name="4"></a>ğŸ“¤ Upload Images

### 1. Images Dashboard

ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²«ë²ˆì§¸ ë°©ë²•ì€ ëŒ€ì‹œë³´ë“œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.
![](https://velog.velcdn.com/images/hojin9622/post/2052a803-e688-40b9-8f09-0b0f19cdd784/image.png)

ëŒ€ì‹œë³´ë“œì˜ Quick Uploadë¥¼ ì´ìš©í•˜ì—¬ ì§ì ‘ì ìœ¼ë¡œ ë°”ë¡œ ì—…ë¡œë“œí•  ìˆ˜ ìˆë‹¤.

### 2. Direct Creator Upload

ê¸°ì¡´ AWS S3 ë‹¤ë¥¸ ë°©ì‹ì˜ ì—…ë¡œë“œ ë°©ë²•ì´ë‹¤.
ì—…ë¡œë“œ ë°©ë²•ì˜ ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ Clientê°€ Cloudflareì— ì§ì ‘ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ëŠ” ë°©ë²•ì´ë‹¤.
S3 ì—ì„œëŠ” Clientì—ì„œ Serverë¡œ ì´ë¯¸ì§€ë¥¼ ì „ì†¡í•˜ê³ , Serverì—ì„œ AccessTokenì„ ì´ìš©í•˜ì—¬ S3ë¡œ ì „ì†¡í•˜ê²Œ ëœë‹¤.
ì´ëŸ¬í•œ ë°©ì‹ì—ì„œëŠ” ìš©ëŸ‰ì´ í° ì´ë¯¸ì§€ê°€ ì „ë‹¬ë  ê²½ìš° Client &rarr; Server &rarr; S3 ë¡œ ì´ë¯¸ì§€ê°€ ì „ì†¡ë˜ëŠ”ë° í° ë¹„ìš©ì´ ë°œìƒëœë‹¤.
![](https://velog.velcdn.com/images/hojin9622/post/6f95e62c-c05e-4fd4-bf00-dba1edef7d40/image.png)

Direct Creator Upload ë°©ì‹ì€ ì´ë¯¸ì§€ê°€ Client ì—ì„œ Server, Serverì—ì„œ S3ë¡œ 2ë²ˆ ì´ë™í•˜ëŠ” ëŒ€ì‹ , Clientì—ì„œ Cloudflareë¡œ ë°”ë¡œ ì „ë‹¬ëœë‹¤.

1. ë¨¼ì € ClientëŠ” Serverë¡œ cloudflare ì´ë¯¸ì§€ ì—…ë¡œë“œ URLì„ ìš”ì²­í•œë‹¤.
2. ì„œë²„ì—ì„œëŠ” ACCOUNT_IDì™€ tokenì„ ê°€ì§€ê³  ì´ë¯¸ì§€ ì—…ë¡œë“œ URLì„ cloudflareì— ìš”ì²­ í•œ í›„ Clientì— ì´ë¯¸ì§€ ì—…ë¡œë“œ URLì„ ë°˜í™˜í•´ì¤€ë‹¤.

```bash
curl --request POST \
 --url https://api.cloudflare.com/client/v4/accounts/<ACCOUNT_ID>/images/v2/direct_upload \
 --header 'Authorization: Bearer :token' \
 --form 'requireSignedURLs=true' \
 --form 'metadata={"key":"value"}'
```

3. ClientëŠ” ë°›ì€ URLì„ ì´ìš©í•˜ì—¬ cloudflareë¡œ ë°”ë¡œ ì´ë¯¸ì§€ë¥¼ ì „ë‹¬í•œë‹¤.

```html
<html>
  <body>
    <form
      action="INSERT_UPLOAD_URL_HERE"
      method="post"
      enctype="multipart/form-data"
    >
      <input type="file" id="myFile" name="file" />
      <input type="submit" />
    </form>
  </body>
</html>
```

4. POST ìš”ì²­ì„ ë³´ë‚¸ í›„ responseë¡œ ì´ë¯¸ì§€ IDë¥¼ ë°›ê²Œëœë‹¤. ì´ë¯¸ì§€ IDë¥¼ ì´ìš©í•˜ì—¬ ì €ì¥ëœ ì´ë¯¸ì§€ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

## <a name="5"></a>ğŸ”” ì´ë¯¸ì§€ í˜¸ì¶œ

![](https://velog.velcdn.com/images/hojin9622/post/11c09360-9682-4ddd-a376-5ba2c5ef3638/image.png)

ëŒ€ì‹œë³´ë“œì˜ Image Delivery URLì„ ë³µì‚¬í•œë‹¤.

```bash
https://imagedelivery.net/<ACCOUNT_HASH>/<IMAGE_ID>/<VARIANT_NAME>
```

Image Delivery URLì€ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœì´ë©° Account HashëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë³µì‚¬í• ë•Œ ìˆìœ¼ë©°, Image IDëŠ” responseë¡œ ë°›ì€ ì´ë¯¸ì§€ IDë¥¼ ë„£ìœ¼ë©´ ëœë‹¤.
`VARIANT_NAME`ì€ ì¼ë‹¨ publicìœ¼ë¡œ ì‘ì„±í•œë‹¤.

## <a name="6"></a>ğŸ› Variants

í™ˆí˜ì´ì§€ì—ì„œ ê°•ì¡°ë˜ì—ˆë˜ í¬ê¸° ì¡°ì • ë° ìµœì í™”ë¥¼ ë¹„ìš©ì—†ì´ í•  ìˆ˜ ìˆë‹¤ëŠ” ë¶€ë¶„ì„ `Variants`ë¥¼ ì´ìš©í•˜ì—¬ í•  ìˆ˜ ìˆë‹¤.
![](https://velog.velcdn.com/images/hojin9622/post/70051725-8ca6-40c8-a302-9ddd94cab08a/image.png)

Cloudflare ëŒ€ì‹œë³´ë“œì˜ Variantsë¥¼ ì„ íƒí•œ í›„ Add New Variant ì™¼ìª½ Inputì— Variantì˜ ì´ë¦„ì„ ì •í•´ì¤€ í›„ í´ë¦­í•˜ë©´ ìœ„ì™€ ê°™ì€ ì´ë¯¸ì§€ì˜ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.
ì´ë¯¸ì§€ë¥¼ Resizing í•  ìˆ˜ ìˆìœ¼ë©° Metadataë¥¼ ì–´ë–»ê²Œ í• ì§€ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

- Scale down: ì´ë¯¸ì§€ëŠ” ì£¼ì–´ì§„ ë„ˆë¹„, ë†’ì´ì— ë§ë„ë¡ í¬ê¸°ê°€ ì¶•ì†Œë˜ì§€ë§Œ í™•ëŒ€ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
- Contain: ê°€ë¡œ ì„¸ë¡œ ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ì£¼ì–´ì§„ ë„ˆë¹„ ë˜ëŠ” ë†’ì´ ë‚´ì—ì„œ ê°€ëŠ¥í•œ í¬ê²Œ í¬ê¸° ì¡°ì • ëœë‹¤.
- Cover: ë„ˆë¹„ì™€ ë†’ì´ë¡œ ì§€ì •ëœ ì „ì²´ ì˜ì—­ì„ ì •í™•íˆ ì±„ìš°ë„ë¡ ì´ë¯¸ì§€ í¬ê¸°ê°€ ì¡°ì •ë˜ê³  í•„ìš”í•œ ê²½ìš° ì˜ë¦°ë‹¤.
- Crop: ë„ˆë¹„ì™€ ë†’ì´ë¡œ ì§€ì •ëœ ì˜ì—­ì— ë§ê²Œ ì´ë¯¸ì§€ê°€ ì¶•ì†Œë˜ê³  ì˜ë¦¬ë‚Ÿ.
- Pad: ê°€ë¡œ ì„¸ë¡œ ë¹„ìœ¨ì„ ìœ ì§€í•˜ë©´ì„œ ë„ˆë¹„ ë˜ëŠ” ë†’ë‹ˆ ë‚´ì—ì„œ ê°€ëŠ¥í•œ í¬ê²Œ í¬ê¸° ì¡°ì •ì´ë˜ë©°, ì¶”ê°€ ì˜ì—­ì€ í°ìƒ‰ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤.

![](https://velog.velcdn.com/images/hojin9622/post/b32282b2-c325-4570-94a8-86052507663a/image.png)

ì´ì œ ì´ë ‡ê²Œ ì¶”ê°€ëœ Variantsë¥¼ ì´ë¯¸ì§€ í˜¸ì¶œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```bash
https://imagedelivery.net/<ACCOUNT_HASH>/<IMAGE_ID>/avatar
https://imagedelivery.net/<ACCOUNT_HASH>/<IMAGE_ID>/public
```

URLë§Œ ë³€ê²½í•´ì£¼ë©´ í•´ë‹¹ Variantsì— ë§ëŠ” ì´ë¯¸ì§€ë¥¼ ì œê³µí•œë‹¤.

## <a name="7"></a>ğŸ“ Reference

[Cloudflare Images](https://www.cloudflare.com/ko-kr/products/cloudflare-images/)
[Serve images](https://developers.cloudflare.com/images/cloudflare-images/serve-images/)
[Resize images](https://developers.cloudflare.com/images/cloudflare-images/resize-images/)
[ìºëŸ¿ë§ˆì¼“ í´ë¡ ì½”ë”©](https://nomadcoders.co/carrot-market)
